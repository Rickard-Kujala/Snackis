@using Microsoft.AspNetCore.Http.Features



@{ var consentFeature = Context.Features.Get<ITrackingConsentFeature>();
                var showBanner = !consentFeature?.CanTrack ?? false;
                var cookieString = consentFeature?.CreateConsentCookie(); }



@if (showBanner)
{



<div id="cookieConsent" class="alert alert-info alert-dismissible fade show row" role="alert">
    <div class="col-8">
        Denna sida använder cookies. Genom att använda vår webbplats godkänner du att vi använder cookies. <a asp-page="/Privacy">Läs mer</a>.
    </div>
    <div class="col-4">
        <button type="button" class="accept-policy close" data-dismiss="alert" aria-label="Close" data-cookie-string="@cookieString">
            <span aria-hidden="true" class="pt-1">Jag förstår.</span>
        </button>
    </div>
</div>

<script>
  (function () {
     var button = document.querySelector("#cookieConsent button[data-cookie-string]");
     button.addEventListener("click", function (event) {
         document.cookie = button.dataset.cookieString;
     }, false);
         })();
</script>
 }
